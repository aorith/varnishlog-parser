<!-- templates/views/headers_view.html -->

<div class="view" id="headers-view">
	<div class="view-content">
		<h1>Headers</h1>

		<p>
			This tab displays the state of HTTP headers, grouped by transaction.
			For each transaction of type <code>request</code>
			or <code>backend request</code>,
			a table shows the headers as they were initially received and how they changed after VCL processing.
		</p>

		<p>Headers are categorized into four states:</p>

		<table class="headers-legend">
			<tr>
				<th class="diff-received">Received</th>
				<td>Headers present before any VCL processing, as originally received.</td>
			</tr>
			<tr>
				<th class="diff-added">Added</th>
				<td>Headers introduced by VCL that were not part of the originally received set.</td>
			</tr>
			<tr>
				<th class="diff-modified">Modified</th>
				<td>Headers that were present in the received set but were later changed by VCL.</td>
			</tr>
			<tr>
				<th class="diff-deleted">Deleted</th>
				<td>Headers that were removed at any point during processing.</td>
			</tr>
		</table>

		<br>

		{{ range .Transactions.Set.UniqueRootParents }}
		<div class="headers-tbl-container">
			<table class="headers-table">
				<thead><tr><th colspan="3">Group {{ .TXID }}</th></tr></thead>
				<tbody>
					{{ range . | headersTableHTML }}
					{{ .ToHTML }}
					{{ end }}
				</tbody>
			</table>
		</div>
		{{ end }}
	</div>
</div>
